<<<<<<< HEAD
# serve-favicon [![Build Status](https://travis-ci.org/expressjs/serve-favicon.svg)](https://travis-ci.org/expressjs/serve-favicon) [![NPM version](https://badge.fury.io/js/serve-favicon.svg)](http://badge.fury.io/js/serve-favicon)
=======
# serve-favicon

[![NPM Version][npm-image]][npm-url]
[![NPM Downloads][downloads-image]][downloads-url]
[![Build Status][travis-image]][travis-url]
[![Test Coverage][coveralls-image]][coveralls-url]
[![Gittip][gittip-image]][gittip-url]
>>>>>>> 746d829ab6fde4cbabefa5c385905aefd0043a1d

Node.js middleware for serving a favicon.

## Install

<<<<<<< HEAD
    npm install serve-favicon
=======
```bash
npm install serve-favicon
```
>>>>>>> 746d829ab6fde4cbabefa5c385905aefd0043a1d

## API

### favicon(path, options)

Create new middleware to serve a favicon from the given `path` to a favicon file.
`path` may also be a `Buffer` of the icon to serve.

<<<<<<< HEAD
#### options

  - `maxAge` - cache-control max-age directive in `ms`, defaulting to 1 day.

## Examples

Typically this middleware will come very early in your stack (maybe even first) to avoid processing any other middleware if we already know the request is for `/favicon.ico`.

### express 3.x/4.x
=======
#### Options

Serve favicon accepts these properties in the options object.

##### maxAge

The `cache-control` `max-age` directive in `ms`, defaulting to 1 day. This can
also be a string accepted by the [ms](https://www.npmjs.org/package/ms#readme)
module.

## Examples

Typically this middleware will come very early in your stack (maybe even first)
to avoid processing any other middleware if we already know the request is for
`/favicon.ico`.

### express
>>>>>>> 746d829ab6fde4cbabefa5c385905aefd0043a1d

```javascript
var express = require('express');
var favicon = require('serve-favicon');

var app = express();
app.use(favicon(__dirname + '/public/favicon.ico'));

// Add your routes here, etc.

app.listen(3000);
```

### connect

```javascript
var connect = require('connect');
var favicon = require('serve-favicon');

var app = connect();
app.use(favicon(__dirname + '/public/favicon.ico'));

// Add your middleware here, etc.

app.listen(3000);
```

### vanilla http server

<<<<<<< HEAD
This middleware can be used anywhere, even outside express/connect. It takes `req`, `res`, and `callback`.
=======
This middleware can be used anywhere, even outside express/connect. It takes
`req`, `res`, and `callback`.
>>>>>>> 746d829ab6fde4cbabefa5c385905aefd0043a1d

```javascript
var http = require('http');
var favicon = require('serve-favicon');
<<<<<<< HEAD
=======
var finalhandler = require('finalhandler');
>>>>>>> 746d829ab6fde4cbabefa5c385905aefd0043a1d

var _favicon = favicon(__dirname + '/public/favicon.ico');

var server = http.createServer(function onRequest(req, res) {
<<<<<<< HEAD
  _favicon(req, res, function onNext(err) {
    if (err) {
      res.statusCode = 500;
      res.end();
      return;
    }
=======
  var done = finalhandler(req, res);

  _favicon(req, res, function onNext(err) {
    if (err) return done(err);
>>>>>>> 746d829ab6fde4cbabefa5c385905aefd0043a1d

    // continue to process the request here, etc.

    res.statusCode = 404;
    res.end('oops');
  });
});

server.listen(3000);
```

## License

[MIT](LICENSE)
<<<<<<< HEAD
=======

[npm-image]: https://img.shields.io/npm/v/serve-favicon.svg?style=flat
[npm-url]: https://npmjs.org/package/serve-favicon
[travis-image]: https://img.shields.io/travis/expressjs/serve-favicon.svg?style=flat
[travis-url]: https://travis-ci.org/expressjs/serve-favicon
[coveralls-image]: https://img.shields.io/coveralls/expressjs/serve-favicon.svg?style=flat
[coveralls-url]: https://coveralls.io/r/expressjs/serve-favicon?branch=master
[downloads-image]: https://img.shields.io/npm/dm/serve-favicon.svg?style=flat
[downloads-url]: https://npmjs.org/package/serve-favicon
[gittip-image]: https://img.shields.io/gittip/dougwilson.svg?style=flat
[gittip-url]: https://www.gittip.com/dougwilson/
>>>>>>> 746d829ab6fde4cbabefa5c385905aefd0043a1d
